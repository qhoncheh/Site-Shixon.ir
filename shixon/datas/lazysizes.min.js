!function(n,t){var i=t(n,n.document);n.lazySizes=i;"object"==typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd&&define(i)}(window,function(n,t){"use strict";if(t.getElementsByClassName){var i,h=t.documentElement,r=n.addEventListener,u=n.setTimeout,p=n.requestAnimationFrame||u,g=n.setImmediate||u,w=/^picture$/i,nt=["load","error","lazyincluded","_lazyloaded"],e=function(n,t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");return n.className.match(i)&&i},o=function(n,t){e(n,t)||(n.className+=" "+t)},c=function(n,t){var i;(i=e(n,t))&&(n.className=n.className.replace(i," "))},f=function(n,t,i){var r=i?"addEventListener":"removeEventListener";i&&f(n,t);nt.forEach(function(i){n[r](i,t)})},l=function(n,i,r,u,f){var e=t.createEvent("CustomEvent");return e.initCustomEvent(i,!u,!f,r||{}),n.dispatchEvent(e),e},a=function(t,r){var u;n.HTMLPictureElement||((u=n.picturefill||n.respimage||i.pf)?u({reevaluate:!0,elements:[t]}):r&&r.src&&(t.src=r.src))},v=function(n,t){return(getComputedStyle(n,null)||{})[t]},b=function(n,t,r){for(r=r||n.offsetWidth;r<i.minSize&&t&&!n._lazysizesWidth;)r=t.offsetWidth,t=t.parentNode;return r},k=function(t){var r,f=0,e=n.Date,o=function(){r=!1;f=e.now();t()},s=function(){g(o)},h=function(){p(s)};return function(){if(!r){var n=i.throttle-(e.now()-f);r=!0;6>n&&(n=6);u(h,n)}}},d=function(){var b,et,ot,vt,nt,yt,pt,tt,it,rt,ut,ct,lt,kt=/^img$/i,dt=/^iframe$/i,gt="onscroll"in n&&!/glebot/.test(navigator.userAgent),wt=0,ft=0,d=0,g=0,st=function(n){d--;n&&n.target&&f(n.target,st);(!n||0>d||!n.target)&&(d=0)},ni=function(n,t){var i,r=n,u="hidden"!=v(n,"visibility");for(tt-=t,ut+=t,it-=t,rt+=t;u&&(r=r.offsetParent);)u=(v(r,"opacity")||1)>0,u&&"visible"!=v(r,"overflow")&&(i=r.getBoundingClientRect(),u=rt>i.left&&it<i.right&&ut>i.top-1&&tt<i.bottom+1);return u},ti=function(){var s,n,r,u,e,t,o,f,h;if((nt=i.loadMode)&&8>d&&(s=b.length)){for(n=0,g++,lt>ft&&1>d&&g>3&&nt>2?(ft=lt,g=0):ft=nt>1&&g>2&&6>d?ct:wt;s>n;n++)b[n]&&!b[n]._lazyRace&&(gt?((f=b[n].getAttribute("data-expand"))&&(t=1*f)||(t=ft),h!==t&&(yt=innerWidth+t,pt=innerHeight+t,o=-1*t,h=t),r=b[n].getBoundingClientRect(),(ut=r.bottom)>=o&&(tt=r.top)<=pt&&(rt=r.right)>=o&&(it=r.left)<=yt&&(ut||rt||it||tt)&&(ot&&3>d&&!f&&(3>nt||4>g)||ni(b[n],t))?(ht(b[n],r.width),e=!0,d>6&&(ft=wt)):!e&&ot&&!u&&3>d&&4>g&&nt>2&&(et[0]||i.preloadAfterLoad)&&(et[0]||!f&&(ut||rt||it||tt||"auto"!=b[n].getAttribute(i.sizesAttr)))&&(u=et[0]||b[n])):ht(b[n]));u&&!e&&ht(u)}},s=k(ti),at=function(n){o(n.target,i.loadedClass);c(n.target,i.loadingClass);f(n.target,at)},ii=function(n,t){try{n.contentWindow.location.replace(t)}catch(i){n.setAttribute("src",t)}},ri=function(){var n,t=[],i=function(){for(;t.length;)t.shift()();n=!1};return function(r){t.push(r);n||(n=!0,p(i))}}(),ht=function(n,t){var s,r,ut,nt,h,v,b,k,p,g,ft,tt=kt.test(n.nodeName),it=tt&&(n.getAttribute(i.sizesAttr)||n.getAttribute("sizes")),rt="auto"==it;(rt||!ot)&&tt&&(n.src||n.srcset)&&!n.complete&&!e(n,i.errorClass)||(rt&&(t=Math.max(t||0,n.offsetWidth)),n._lazyRace=!0,d++,ri(function(){if(n._lazyRace&&delete n._lazyRace,c(n,i.lazyClass),!(p=l(n,"lazybeforeunveil")).defaultPrevented){if(it&&(rt?(o(n,i.autosizesClass),y.updateElem(n,!0,t)):n.setAttribute("sizes",it)),v=n.getAttribute(i.srcsetAttr),h=n.getAttribute(i.srcAttr),tt&&(b=n.parentNode,k=b&&w.test(b.nodeName||"")),g=p.detail.firesLoad||"src"in n&&(v||h||k),p={target:n},g&&(f(n,st,!0),clearTimeout(vt),vt=u(st,2500),o(n,i.loadingClass),f(n,at,!0)),k)for(s=b.getElementsByTagName("source"),r=0,ut=s.length;ut>r;r++)(ft=i.customMedia[s[r].getAttribute("data-media")||s[r].getAttribute("media")])&&s[r].setAttribute("media",ft),nt=s[r].getAttribute(i.srcsetAttr),nt&&s[r].setAttribute("srcset",nt);v?n.setAttribute("srcset",v):h&&(dt.test(n.nodeName)?ii(n,h):n.setAttribute("src",h));(v||k)&&a(n,{src:h})}(!g||n.complete)&&(g?st(p):d--,at(p))}))},bt=function(){var n,t=function(){i.loadMode=3;s()};ot=!0;i.loadMode=3;g++;r("scroll",function(){3==i.loadMode&&(i.loadMode=2);clearTimeout(n);n=u(t,99)},!0)};return{_:function(){b=t.getElementsByClassName(i.lazyClass);et=t.getElementsByClassName(i.lazyClass+" "+i.preloadClass);ct=i.expand;lt=Math.round(ct*i.expFactor);r("scroll",s,!0);r("resize",s,!0);n.MutationObserver?new MutationObserver(s).observe(h,{childList:!0,subtree:!0,attributes:!0}):(h.addEventListener("DOMNodeInserted",s,!0),h.addEventListener("DOMAttrModified",s,!0),setInterval(s,999));r("hashchange",s,!0);["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(n){t.addEventListener(n,s,!0)});/d$|^c/.test(t.readyState)?bt():(r("load",bt),t.addEventListener("DOMContentLoaded",s));s()},checkElems:s,unveil:ht}}(),y=function(){var n,u=function(n,t,i){var e,u,o,r,f=n.parentNode;if(f&&(i=b(n,f,i),r=l(n,"lazybeforesizes",{width:i,dataAttr:!!t}),!r.defaultPrevented&&(i=r.detail.width,i&&i!==n._lazysizesWidth))){if(n._lazysizesWidth=i,i+="px",n.setAttribute("sizes",i),w.test(f.nodeName||""))for(e=f.getElementsByTagName("source"),u=0,o=e.length;o>u;u++)e[u].setAttribute("sizes",i);r.detail.dataAttr||a(n,r.detail)}},e=function(){var t,i=n.length;if(i)for(t=0;i>t;t++)u(n[t])},f=k(e);return{_:function(){n=t.getElementsByClassName(i.autosizesClass);r("resize",f)},checkElems:f,updateElem:u}}(),s=function(){s.i||(s.i=!0,y._(),d._())};return function(){var t,r={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:2,expand:359,loadMode:2,throttle:125};i=n.lazySizesConfig||n.lazysizesConfig||{};for(t in r)t in i||(i[t]=r[t]);n.lazySizesConfig=i;u(function(){i.init&&s()})}(),{cfg:i,autoSizer:y,loader:d,init:s,uP:a,aC:o,rC:c,hC:e,fire:l,gW:b}}});